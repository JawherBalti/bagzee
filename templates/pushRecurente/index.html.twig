{% extends '@SonataAdmin/standard_layout.html.twig' %}
{% block content %}
    <a href="{{ path('pushRecurente_create') }}" class="btn btn-primary pull-right">Ajouter</a>
    <div class="row">
        <form method="post" action="">
            <div class="col-lg-3">
                <div class="input-group" data-provide="">
                    <input value="{{ start|date('d-m-Y') }}" name="start" class="form-control" style="width: 250px" id="start" width="276" />
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="input-group" data-provide="">
                    <input value="{{ end|date('d-m-Y') }}" name="end"  class="form-control" style="width: 250px" id="end" width="276" />
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <button type="submit" class="btn btn-sm btn-primary">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </div>
        </form>
    </div>
    </br>
    <div class="row"><div class="col-sm-12"><table id="example2" class="table table-bordered table-hover dataTable dtr-inline" role="grid" aria-describedby="example2_info">
                <thead>
                <tr role="row">
                    <th>id</th>
                    <th>object</th>
                    <th>content</th>
                    <th>date</th>
                    <th>Ã </th>
                    <th>Jours</th>
                    <th>action</th>
                </tr>
                </thead>
                <tbody>
                {% set days=['','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi','Dimanche'] %}
                {% for pushrecurente in pushrecurente %}
                    <tr class="odd">
                        <td class="dtr-control sorting_1" tabindex="0">{{ pushrecurente.id }}</td>
                        <td>{{ pushrecurente.object }}</td>
                        <td>{{ pushrecurente.content|raw }}</td>
                        <td>{{ pushrecurente.createdAt|date('d-m-Y') }}</td>
                        <td>{{ pushrecurente.hours|date('H:i') }}</td>
                        <td>
                        <ul>
                        {% for day in pushrecurente.days %}
                            <li>
                                {{ days[day] }}
                            </li>
                        {% endfor %}
                        </ul>
                        </td>
                        <td><a href="{{ path('pushRecurente_remove',{'id':pushrecurente.id}) }}" class="btn btn-danger"><i class="fa fa-trash"></i></td>
                    </tr>

                {% endfor %}

                <tfoot>
                <tr role="row">
                   <th>id</th>
                    <th>object</th>
                    <th>content</th>
                    <th>date</th>
                    <th>Jours</th>
                    <th>action</th>
                </tr>

                </tfoot>
            </table></div></div>
    <!-- Modal -->
    <script>
        $('#start').datepicker({
            uiLibrary: 'bootstrap4',
            format: 'dd-mm-yyyy',
        });
        $('#end').datepicker({
            uiLibrary: 'bootstrap4',
            format: 'dd-mm-yyyy',
        });
    </script>
{% endblock %}
